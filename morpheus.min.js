/*!
  * Morpheus - A Brilliant Animator
  * https://github.com/ded/morpheus - (c) Dustin Diaz 2011
  * License MIT
  */
!function(e,t){typeof define=="function"?define(t):typeof module!="undefined"?module.exports=t():this[e]=t()}("morpheus",function(){function p(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t);for(n=0;n<e.length;++n)if(e[n]===t)return n}function d(e){var t,n=h.length;r&&e>1e12&&(e=i());for(t=n;t--;)h[t](e);h.length&&c(d)}function v(e){h.push(e)===1&&c(d)}function m(e){var t,n=p(h,e);n>=0&&(t=h.slice(n+1),h.length=n,h=h.concat(t))}function g(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function y(e){return typeof e=="function"}function b(e){return Math.sin(e*Math.PI/2)}function w(e,t,n,r,s,u){function d(e){var i=e-c;if(i>a||h)return u=isFinite(u)?u:1,h?p&&t(u):t(u),m(d),n&&n.apply(f);isFinite(u)?t(l*r(i/a)+s):t(r(i/a))}r=y(r)?r:L.easings[r]||b;var a=e||o,f=this,l=u-s,c=i(),h=0,p=0;return v(d),{stop:function(e){h=1,p=e,e||(n=null)}}}function E(e,t){var n=e.length,r=[],i,s;for(i=0;i<n;++i)r[i]=[e[i][0],e[i][1]];for(s=1;s<n;++s)for(i=0;i<n-s;++i)r[i][0]=(1-t)*r[i][0]+t*r[parseInt(i+1,10)][0],r[i][1]=(1-t)*r[i][1]+t*r[parseInt(i+1,10)][1];return[r[0][0],r[0][1]]}function S(e,t,n){var r,i,s=[],o=n;if(/[+\-0-9]/.test(t[n])){r={type:"number"},/[+\-]/.test(t[n])&&(t[n+1]==="="?(r.relative=t[n],n+=2):(s.push(t[n]),n+=1));while(t[n]&&/[0-9\.]/.test(t[n]))s.push(t[n]),n+=1;r.value=+s.join(""),s=[];while(t[n]&&/[a-zA-Z%]/.test(t[n]))s.push(t[n]),n+=1;r.unit=s.join(""),r.unit===""&&!(e in u)&&(r.unit="px")}else{while(t[n]&&/[^\( ]/.test(t[n]))s.push(t[n]),n+=1;if(t[n]==="("){r={type:"function",value:s.join(""),args:[]},n+=1;while(t[n]){while(t[n]===" ")n+=1;i=S("opacity",t,n),r.args.push(i.value),n=i.index;if(t[n]===")"){n+=1;break}t[n]===","&&(n+=1)}}else r={type:"normal",value:s.join("")}}if(n===o)throw new Error("invalid CSS value "+t);return{value:r,index:n}}function x(e,t){t=""+t;var n=0,r=[],i;while(t[n])i=S(e,t,0),r.push(i.value),n=i.index;return r.length===1?r[0]:{type:"multi",args:r}}function T(e,t){switch(e.type){case"number":var n=t.value-e.value;return function(t){return Math.round((e.value+n*t)*o)/o+e.unit};case"multi":return e.args=e.args.map(function(e,n){return T(e,t.args[n])}),function(t){return e.args.map(function(e){return e(t)}).join(" ")};case"function":return e.value==="rgb"&&(e.args.push({type:"number",value:1,unit:""}),e.value="rgba"),t.value==="rgb"&&(t.args.push({type:"number",value:1,unit:""}),e.value="rgba"),e.args=e.args.map(function(e,n){return T(e,t.args[n])}),e.value==="rgba"?function(t){return e.value+"("+Math.round(e.args[0](t))+", "+Math.round(e.args[1](t))+", "+Math.round(e.args[2](t))+", "+e.args[3](t)+")"}:function(t){return e.value+"("+e.args.map(function(e){return e(t)}).join(", ")+")"};case"normal":return function(n){return n>.5?t.value:e.value}}}function N(e,t){switch(t.type){case"number":return t.relative==="+"?t.value=e.value+t.value:t.relative==="-"&&(t.value=e.value-t.value),t.value+t.unit;case"multi":return t.args=t.args.map(function(t,n){return N(e.args[n],t)}),t.args.join(" ");case"function":return t.args=t.args.map(function(t,n){return N(e.args[n],t)}),t.value+"("+t.args.join(", ")+")";case"normal":return t.value}}function C(e){return function(t){return"alpha(opacity="+e(t)*100+")"}}function k(e,t){return y(e)?e(t):e}function L(e,t){var n=t.complete,r=t.duration,i=t.easing,s=t.bezier,o=[],u=e?u=isFinite(e.length)?e:[e]:[],c,h,p,d,v,m,b;for(m=u.length;m--;){if(s){var S=l(u[m],"left"),L=l(u[m],"top"),A=[];A.push(parseFloat(N(x("left",S),x("left",t.left?k(t.left,u[m]):0)))),A.push(parseFloat(N(x("top",L),x("top",t.top?k(t.top,u[m]):0)))),v=y(s)?s(u[m],A):s,v.push(A),v.unshift([parseInt(S,10),parseInt(L,10)]),o.push({element:u[m],bezier:v})}for(b in t){switch(b){case"complete":case"duration":case"easing":case"bezier":continue}if(s)switch(b){case"left":case"top":case"bottom":case"right":continue}b==="transform"?d=a:d=g(b),c=u[m].style[d],h=x(d,l(u[m],d)),u[m].style[d]=N(h,x(d,k(t[b],u[m]))),p=x(d,l(u[m],d)),u[m].style[d]=c,d==="opacity"&&!f?o.push({element:u[m],style:"filter",value:C(T(h,p))}):o.push({element:u[m],style:d,value:T(h,p)})}}return w.call(u,r,function(e){for(m=o.length;m--;)if(o[m].bezier){var t=E(o[m].bezier,e);o[m].element.style.left=t[0]+"px",o[m].element.style.top=t[1]+"px"}else o[m].element.style[o[m].style]=o[m].value(e)},n,i)}var e=document,t=window,n=t.performance,r=n&&(n.now||n.webkitNow||n.msNow||n.mozNow),i=r?function(){return r.call(n)}:function(){return+(new Date)},s=e.documentElement,o=1e3,u={lineHeight:1,zoom:1,zIndex:1,opacity:1,transform:1},a=function(){var t=e.createElement("a").style,n=["webkitTransform","MozTransform","OTransform","msTransform","Transform"],r;for(r=0;r<n.length;r++)if(n[r]in t)return n[r]}(),f=function(){return typeof e.createElement("a").style.opacity!="undefined"}(),l=e.defaultView&&e.defaultView.getComputedStyle?function(t,n){n=n=="transform"?a:n;var r=null,i=e.defaultView.getComputedStyle(t,"");return i&&(r=i[g(n)]),t.style[n]||r}:s.currentStyle?function(e,t){t=g(t);if(t=="opacity"){var n=100;try{n=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(r){try{n=e.filters("alpha").opacity}catch(i){}}return n/100}var s=e.currentStyle?e.currentStyle[t]:null;return e.style[t]||s}:function(e,t){return e.style[g(t)]},c=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||t.oRequestAnimationFrame||function(e){t.setTimeout(function(){e(+(new Date))},17)}}(),h=[];return L.tween=w,L.getStyle=l,L.bezier=E,L.transform=a,L.easings={},L})